- id: automatic_theme_change
  alias: Automatic Theme Change
  trigger:
    - platform: homeassistant
      event: start
    - platform: state
      entity_id: sun.sun
      from: 'above_horizon'
      to: 'below_horizon'
    - platform: state
      entity_id: sun.sun
      from: 'below_horizon'
      to: 'above_horizon'
  action:
    - service_template: frontend.set_theme
      data_template:
        name: >
          {% if is_state('sun.sun', 'above_horizon') %}
            default
          {% else %}
            midnight
          {% endif %}

- id: home_assistant_release_notification
  alias: Home Assistant Release notification
  trigger:
    - platform: state
      entity_id: binary_sensor.updater
      from: 'off'
      to: 'on'
  action:
    service: notify.denys
    data_template:
      title: 'New Home Assistant Release üéâ'
      message: "Home Assistant  {{ state_attr('binary_sensor.updater', 'newest_version') }}  is now available."

# Disabled because there's no transmission integration enabled right now.
- id: torrent_completed_notification
  alias: Notify about completed torrent
  initial_state: false
  trigger:
    platform: event
    event_type: transmission_downloaded_torrent
  action:
    - service: notify.all
      data_template:
        title: "Transmission ‚¨áÔ∏è"
        message: "{{trigger.event.data.name}} –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ!"
