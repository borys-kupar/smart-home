# This can be replaced with a single script
#
# However, app_segment_clean required array of integers
# and we are able to pass only string via templating.
#
# Read more here:
#   * https://community.home-assistant.io/t/howto-xiaomi-vacuum-zoned-cleaning/51293
#   * https://community.home-assistant.io/t/data-template-in-automations-to-output-number-array/199567

# Map of rooms:
#
# 16 - Living Room
# 17 - Bedroom
# 18 - Corridor
# 19 - Bathroom
# 20 - Kitchen

vacuum_clean_living_room:
  alias: Vacuum Clean Living Room
  icon: mdi:sofa
  sequence:
    - service: script.announcement
      data_template:
        title: "–ü–∏–ª–æ—Å–æ—Å üßπ"
        messages:
          - "–ü–æ—á–∏–Ω–∞—é –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –≤—ñ—Ç–∞–ª—å–Ω—ñ —Ç–∞ –∫—É—Ö–Ω—ñ."
          - "–ü—Ä–∏–±–∏—Ä–∞–Ω–Ω—è —É –≤—ñ—Ç–∞–ª—å–Ω—ñ —Ç–∞ –∫—É—Ö–Ω—ñ —Ä–æ–∑–ø–æ—á–∞—Ç–æ!"
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞—Ç–∏ –≤—ñ—Ç–∞–ª—å–Ω—é —Ç–∞ –∫—É—Ö–Ω—é."
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è. –í—ñ—Ç–∞–ª—å–Ω—è —Ç–∞ –∫—É—Ö–Ω—è —Å–∫–æ—Ä–æ –±—É–¥—É—Ç—å —á–∏—Å—Ç—ñ!"
    - service: vacuum.send_command
      data:
        entity_id: vacuum.roborock
        command: app_segment_clean
        params: [16, 20]

vacuum_clean_kitchen:
  alias: Vacuum Clean Kitchen
  icon: mdi:silverware-fork-knife
  sequence:
    - service: script.announcement
      data_template:
        title: "–ü–∏–ª–æ—Å–æ—Å üßπ"
        messages:
          - "–ü–æ—á–∏–Ω–∞—é –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –Ω–∞ –∫—É—Ö–Ω—ñ."
          - "–ü—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –Ω–∞ –∫—É—Ö–Ω—ñ —Ä–æ–∑–ø–æ—á–∞—Ç–æ!"
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞—Ç–∏ –∫—É—Ö–Ω—é."
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è. –ö—É—Ö–Ω—è —Å–∫–æ—Ä–æ –±—É–¥–µ —á–∏—Å—Ç–∞!"
    - service: notify.all
      data:
        title: "–ü–∏–ª–æ—Å–æ—Å üßπ"
        message: "–ü–æ—á–∏–Ω–∞—é –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –∫—É—Ö–Ω—ñ."
    - service: vacuum.send_command
      data:
        entity_id: vacuum.roborock
        command: app_segment_clean
        params: [20]

vacuum_clean_bedroom:
  alias: Vacuum Clean Bedroom
  icon: mdi:bed-empty
  sequence:
    - service: script.announcement
      data_template:
        title: "–ü–∏–ª–æ—Å–æ—Å üßπ"
        messages:
          - "–ü–æ—á–∏–Ω–∞—é –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è —É —Å–ø–∞–ª—å–Ω—ñ."
          - "–ü—Ä–∏–±–∏—Ä–∞–Ω–Ω—è —É —Å–ø–∞–ª—å–Ω—ñ —Ä–æ–∑–ø–æ—á–∞—Ç–æ!"
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞—Ç–∏ —Å–ø–∞–ª—å–Ω—é."
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è. –°–ø–∞–ª—å–Ω—è —Å–∫–æ—Ä–æ –±—É–¥–µ —á–∏—Å—Ç–∞!"
    - service: vacuum.send_command
      data:
        entity_id: vacuum.roborock
        command: app_segment_clean
        params: [17]

vacuum_clean_corridor:
  alias: Vacuum Clean Corridor
  icon: mdi:hanger
  sequence:
    - service: script.announcement
      data_template:
        title: "–ü–∏–ª–æ—Å–æ—Å üßπ"
        messages:
          - "–ü–æ—á–∏–Ω–∞—é –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –∫–æ—Ä–∏–¥–æ—Ä—É."
          - "–ü—Ä–∏–±–∏—Ä–∞–Ω–Ω—è —É –∫–æ—Ä–∏–¥–æ—Ä—ñ —Ä–æ–∑–ø–æ—á–∞—Ç–æ!"
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞—Ç–∏ –∫–æ—Ä–∏–¥–æ—Ä."
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è. –ö–æ—Ä–∏–¥–æ—Ä —Å–∫–æ—Ä–æ –±—É–¥–µ —á–∏—Å—Ç–∞!"
    - service: vacuum.send_command
      data:
        entity_id: vacuum.roborock
        command: app_segment_clean
        params: [18]

vacuum_clean_bathroom:
  alias: Vacuum Clean Bathroom
  icon: mdi:shower
  sequence:
    - service: script.announcement
      data_template:
        title: "–ü–∏–ª–æ—Å–æ—Å üßπ"
        messages:
          - "–ü–æ—á–∏–Ω–∞—é –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è –≤–∞–Ω–Ω–∏."
          - "–ü—Ä–∏–±–∏—Ä–∞–Ω–Ω—è —É –≤–∞–Ω–Ω—ñ —Ä–æ–∑–ø–æ—á–∞—Ç–æ!"
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞—Ç–∏ –≤–∞–Ω–Ω—É."
          - "{{ state_attr('vacuum.roborock', 'friendly_name') }} –ø–æ—á–∏–Ω–∞—î –ø—Ä–∏–±–∏—Ä–∞–Ω–Ω—è. –í–∞–Ω–Ω–∞ —Å–∫–æ—Ä–æ –±—É–¥–µ —á–∏—Å—Ç–∞!"
    - service: vacuum.send_command
      data:
        entity_id: vacuum.roborock
        command: app_segment_clean
        params: [19]

